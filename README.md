# üîå Pro–°–≤—ñ—Ç–ª–æ - Backend

**Backend –¥–ª—è –¥–æ–¥–∞—Ç–∫–∞ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤—ñ–¥–∫–ª—é—á–µ–Ω—å –µ–ª–µ–∫—Ç—Ä–æ–µ–Ω–µ—Ä–≥—ñ—ó –≤ –•–º–µ–ª—å–Ω–∏—Ü—å–∫—ñ–π –æ–±–ª–∞—Å—Ç—ñ**

–¶–µ–π –ø—Ä–æ–µ–∫—Ç —î –ª–æ–∫–∞–ª—å–Ω–∏–º –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–º backend, —è–∫–∏–π:
- üåê –ü–∞—Ä—Å–∏—Ç—å –¥–∞–Ω—ñ –ø—Ä–æ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∑ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ —Å–∞–π—Ç—É [hoe.com.ua](https://hoe.com.ua/page/pogodinni-vidkljuchennja)
- üîç –ü—ñ–¥—Ç—Ä–∏–º—É—î –º–Ω–æ–∂–∏–Ω–Ω—ñ –¥–∂–µ—Ä–µ–ª–∞ –¥–∞–Ω–∏—Ö (–≥–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞, shutdown/new, shutdown/all)
- üíæ –ó–±–µ—Ä—ñ–≥–∞—î —ñ—Å—Ç–æ—Ä—ñ—é –≤—ñ–¥–∫–ª—é—á–µ–Ω—å —É –ª–æ–∫–∞–ª—å–Ω—ñ–π SQLite –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
- üîî –í—ñ–¥–ø—Ä–∞–≤–ª—è—î push-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Firebase Cloud Messaging
- ‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î –¥–∞–Ω—ñ –∫–æ–∂–Ω—ñ 30 —Ö–≤–∏–ª–∏–Ω
- üöÄ –ù–∞–¥–∞—î REST API –¥–ª—è Flutter –¥–æ–¥–∞—Ç–∫–∞

---

## üìã –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Python 3.11+**
- **FastAPI** - —Å—É—á–∞—Å–Ω–∏–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **SQLAlchemy** - ORM –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ë–î
- **SQLite** - –ª–µ–≥–∫–∞ –ª–æ–∫–∞–ª—å–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **BeautifulSoup4** + **Selenium** - –ø–∞—Ä—Å–∏–Ω–≥ HTML —Ç–∞ –¥–∏–Ω–∞–º—ñ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É
- **APScheduler** - –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –∑–∞–¥–∞—á
- **Firebase Admin SDK** - push-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- **Pydantic** - –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö

### ‚ö° –ù–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–∏–Ω–≥—É

–ü—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–≥—ñ–±—Ä–∏–¥–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥** –¥–æ –ø–∞—Ä—Å–∏–Ω–≥—É:
- **–°—Ç–∞—Ç–∏—á–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ –∞–¥—Ä–µ—Å** –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (—Ä—ñ–¥–∫–æ –∑–º—ñ–Ω—é—é—Ç—å—Å—è)
- **–ü–æ—Ç–æ—á–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏** –ø–∞—Ä—Å—è—Ç—å—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ
- **Selenium** –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –¥–∏–Ω–∞–º—ñ—á–Ω–∏–º JavaScript-–∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

[–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä—Å–µ—Ä–∞ ‚Üí](./PARSER_UPDATE.md)

---

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –ø—Ä–æ–µ–∫—Ç—É

```bash
cd prosvitlo-backend
```

### 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
# macOS/Linux
python3 -m venv venv
source venv/bin/activate

# Windows
python -m venv venv
venv\Scripts\activate
```

### 3. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Firebase (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

–©–æ–± push-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–∞—Ü—é–≤–∞–ª–∏:

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É [Firebase Console](https://console.firebase.google.com/)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —ñ—Å–Ω—É—é—á–∏–π
3. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ **service account JSON** —Ñ–∞–π–ª:
   - Settings ‚Üí Service Accounts ‚Üí Generate New Private Key
4. –ó–±–µ—Ä–µ–∂—ñ—Ç—å —Ñ–∞–π–ª —è–∫ `firebase-credentials.json` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É
5. –°—Ç–≤–æ—Ä—ñ—Ç—å `.env` —Ñ–∞–π–ª –Ω–∞ –æ—Å–Ω–æ–≤—ñ `.env.example`

```bash
cp .env.example .env
```

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `.env`:
```env
FIREBASE_CREDENTIALS_PATH=./firebase-credentials.json
```

> **–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ë–µ–∑ Firebase push-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º—É—Ç—å, –∞–ª–µ —Ä–µ—à—Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª–∞ –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∞.

### 5. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
uvicorn app.main:app --reload
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∑–∞ –∞–¥—Ä–µ—Å–æ—é: **http://localhost:8000**

---

## üìñ API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞ –≤—ñ–¥–∫—Ä–∏–π—Ç–µ —É –±—Ä–∞—É–∑–µ—Ä—ñ:

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

### –û—Å–Ω–æ–≤–Ω—ñ endpoints:

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å |
|-------|----------|------|
| `GET` | `/` | –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ |
| `GET` | `/health` | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤'—è —Å–µ—Ä–≤–µ—Ä–∞ |
| `GET` | `/api/v1/status` | –°—Ç–∞—Ç—É—Å API —Ç–∞ scheduler |
| `GET` | `/api/v1/outages` | –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –≤—ñ–¥–∫–ª—é—á–µ–Ω—å (–∑ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é) |
| `GET` | `/api/v1/outage` | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∑–∞ –∞–¥—Ä–µ—Å–æ—é |
| `POST` | `/api/v1/register` | –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è push-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å |
| `GET` | `/api/v1/history` | –Ü—Å—Ç–æ—Ä—ñ—è –≤—ñ–¥–∫–ª—é—á–µ–Ω—å –¥–ª—è –∞–¥—Ä–µ—Å–∏ |
| `GET` | `/api/v1/cities` | –°–ø–∏—Å–æ–∫ –º—ñ—Å—Ç |
| `GET` | `/api/v1/scheduler-status` | –°—Ç–∞—Ç—É—Å –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫–∞ |

### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤:

#### –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
```bash
curl http://localhost:8000/api/v1/outages?page=1&page_size=10
```

#### –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∑–∞ –∞–¥—Ä–µ—Å–æ—é
```bash
curl "http://localhost:8000/api/v1/outage?city=–•–º–µ–ª—å–Ω–∏—Ü—å–∫–∏–π&street=–ì–µ—Ä–æ—ó–≤ –ú–∞–π–¥–∞–Ω—É&house_number=10"
```

#### –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
```bash
curl -X POST http://localhost:8000/api/v1/register \
  -H "Content-Type: application/json" \
  -d '{
    "firebase_token": "your_fcm_token_here",
    "city": "–•–º–µ–ª—å–Ω–∏—Ü—å–∫–∏–π",
    "street": "–ì–µ—Ä–æ—ó–≤ –ú–∞–π–¥–∞–Ω—É",
    "house_number": "10"
  }'
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
prosvitlo-backend/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ database.py          # –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ models.py            # SQLAlchemy –º–æ–¥–µ–ª—ñ
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py           # Pydantic —Å—Ö–µ–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ crud.py              # CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó
‚îÇ   ‚îú‚îÄ‚îÄ scheduler.py         # –ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –∑–∞–¥–∞—á
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py        # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ scraper/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ hoe_parser.py    # –ü–∞—Ä—Å–µ—Ä —Å–∞–π—Ç—É hoe.com.ua
‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îî‚îÄ‚îÄ notifier.py      # Firebase push-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ requirements.txt         # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ .env.example            # –ü—Ä–∏–∫–ª–∞–¥ .env —Ñ–∞–π–ª—É
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md
```

---

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —ñ –≤—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:

```env
# –Ü–Ω—Ç–µ—Ä–≤–∞–ª –ø–∞—Ä—Å–∏–Ω–≥—É (–≤ —Ö–≤–∏–ª–∏–Ω–∞—Ö)
SCRAPER_INTERVAL_MINUTES=30

# CORS (–¥–æ–¥–∞–π—Ç–µ URL –≤–∞—à–æ–≥–æ Flutter –¥–æ–¥–∞—Ç–∫–∞)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# Firebase
FIREBASE_CREDENTIALS_PATH=./firebase-credentials.json
```

---

## üîÑ –Ø–∫ –ø—Ä–∞—Ü—é—î –ø–∞—Ä—Å–∏–Ω–≥?

### –°–∏—Å—Ç–µ–º–∞ –¥–≤–æ—Ö —Ä—ñ–≤–Ω—ñ–≤:

#### 1Ô∏è‚É£ –°—Ç–∞—Ç–∏—á–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ –∞–¥—Ä–µ—Å (–æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è —Ä—ñ–¥–∫–æ)
- –ó–±–µ—Ä—ñ–≥–∞—é—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –∞–¥—Ä–µ—Å–∞ ‚Üí —á–µ—Ä–≥–∞ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
- –û–Ω–æ–≤–ª—é—é—Ç—å—Å—è –≤—Ä—É—á–Ω—É –ø—Ä–∏ –ø–æ—Ç—Ä–µ–±—ñ
- –ú–æ–∂—É—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è —É JSON –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —ñ–º–ø–æ—Ä—Ç—É

```bash
# –û–Ω–æ–≤–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—ñ –∞–¥—Ä–µ—Å –∑ —Å–∞–π—Ç—É (30-60 —Å–µ–∫)
python -m app.utils.update_addresses

# –ê–ë–û —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑ JSON (–º–∏—Ç—Ç—î–≤–æ)
python -m app.utils.address_manager import --file data/addresses.json
```

#### 2Ô∏è‚É£ –ü–æ—Ç–æ—á–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏ (–æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
- **Scheduler** –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –∫–æ–∂–Ω—ñ 30 —Ö–≤–∏–ª–∏–Ω
- **Parser** –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –∞–∫—Ç—É–∞–ª—å–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **Selenium** –¥–ª—è JavaScript-–∫–æ–Ω—Ç–µ–Ω—Ç—É
- –ü—Ä–∏ –∑–º—ñ–Ω–∞—Ö –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î push-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

### Workflow:
1. –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î —Å—Ç–æ—Ä—ñ–Ω–∫—É —á–µ—Ä–µ–∑ Selenium
2. –ß–µ–∫–∞—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è JavaScript
3. –ü–∞—Ä—Å–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ñ –∑ BeautifulSoup
4. –ó—ñ—Å—Ç–∞–≤–ª—è—î –∑ –∞–¥—Ä–µ—Å–∞–º–∏ –≤ –ë–î
5. –û–Ω–æ–≤–ª—é—î –≥—Ä–∞—Ñ—ñ–∫–∏ —Ç–∞ –Ω–∞–¥—Å–∏–ª–∞—î —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è

---

## üß™ –†–æ–±–æ—Ç–∞ –∑ —Ç–∞–±–ª–∏—Ü—è–º–∏ –∞–¥—Ä–µ—Å

### –ü–æ—á–∞—Ç–∫–æ–≤–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:

**–í–∞—Ä—ñ–∞–Ω—Ç A - –ü–∞—Ä—Å–∏–Ω–≥ –∑ —Å–∞–π—Ç—É:**
```bash
# –ü–æ–≤–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (–ø–æ–≤—ñ–ª—å–Ω–æ, –∞–ª–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ)
python -m app.utils.update_addresses

# –ó–±–µ—Ä–µ–≥—Ç–∏ —Ä–µ–∑–µ—Ä–≤–Ω—É –∫–æ–ø—ñ—é
python -m app.utils.address_manager export
```

**–í–∞—Ä—ñ–∞–Ω—Ç B - –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≥–æ—Ç–æ–≤–∏–π JSON:**
```bash
# –Ø–∫—â–æ —É –≤–∞—Å —î —Ñ–∞–π–ª addresses.json
python -m app.utils.address_manager import --file data/addresses.json
```

### –ü–æ—à—É–∫ —á–µ—Ä–≥–∏ –¥–ª—è –∞–¥—Ä–µ—Å–∏:
```bash
python -m app.utils.address_manager lookup \
  --city "–•–º–µ–ª—å–Ω–∏—Ü—å–∫–∏–π" \
  --street "–ü—Ä–æ—Å–ø–µ–∫—Ç –ú–∏—Ä—É" \
  --house "50"
```

### –ï–∫—Å–ø–æ—Ä—Ç –ø–æ—Ç–æ—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö:
```bash
python -m app.utils.address_manager export --file data/addresses_backup.json
```

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–∞—Ä—Å–µ—Ä–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –Ω–æ–≤–∏–π Selenium –ø–∞—Ä—Å–µ—Ä:

```bash
# –¢–µ—Å—Ç –ø–∞—Ä—Å–∏–Ω–≥—É –∞–¥—Ä–µ—Å
python -m app.scraper.selenium_parser

# –°—Ç–∞—Ä–∏–π –ø–∞—Ä—Å–µ—Ä (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
python -m app.scraper.hoe_parser
```

---

## üîç –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞ –¥–∞–Ω–∏—Ö

–ù–∞ —Å–∞–π—Ç—ñ hoe.com.ua —î –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ endpoints:

1. **https://hoe.com.ua/shutdown/new** - –í—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∑–∞ –∞–¥—Ä–µ—Å–æ—é
2. **https://hoe.com.ua/shutdown/all** - –ê–∫—Ç—É–∞–ª—å–Ω—ñ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

–¶—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ —Ç–∞–∫–æ–∂ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å JavaScript —ñ –º–∞—é—Ç—å –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ API endpoints:
- `/settlements` - –Ω–∞—Å–µ–ª–µ–Ω—ñ –ø—É–Ω–∫—Ç–∏
- `/streets` - –≤—É–ª–∏—Ü—ñ
- `/houses` - –±—É–¥–∏–Ω–∫–∏  
- `/shutdown-events` - –ø–æ–¥—ñ—ó –≤—ñ–¥–∫–ª—é—á–µ–Ω—å

### –î–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è API:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–æ—Å–ª—ñ–¥–Ω–∏—Ü—å–∫–∏–π —Å–∫—Ä–∏–ø—Ç
python -m app.utils.explore_api
```

–î–ª—è –ø–æ–≤–Ω–æ–≥–æ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è:
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
2. –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ DevTools (F12) ‚Üí Network
3. –í–∏–∫–æ–Ω–∞—Ç–∏ –ø–æ—à—É–∫ –Ω–∞ —Å–∞–π—Ç—ñ
4. –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —è–∫—ñ API –∑–∞–ø–∏—Ç–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è

**–°—Ç–∞—Ç—É—Å:** –í –ø—Ä–æ—Ü–µ—Å—ñ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è. –ü–æ—Ç—Ä–µ–±—É—é—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –∑–∞–ø–∏—Ç—ñ–≤.

---

## üê≥ Docker (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

–°—Ç–≤–æ—Ä—ñ—Ç—å `Dockerfile`:

```dockerfile
FROM python:3.11-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

–ó–∞–ø—É—Å–∫:
```bash
docker build -t prosvitlo-backend .
docker run -p 8000:8000 prosvitlo-backend
```

---

## üìù –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

–ü—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **SQLite** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö.

### –¢–∞–±–ª–∏—Ü—ñ:

#### `outages` - –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –µ–ª–µ–∫—Ç—Ä–æ–µ–Ω–µ—Ä–≥—ñ—ó
- `id` - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä
- `city` - –º—ñ—Å—Ç–æ
- `street` - –≤—É–ª–∏—Ü—è
- `house_number` - –Ω–æ–º–µ—Ä –±—É–¥–∏–Ω–∫—É
- `queue` - —á–µ—Ä–≥–∞ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
- `zone` - –∑–æ–Ω–∞
- `schedule_time` - —á–∞—Å –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
- `updated_at` - —á–∞—Å –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- `source_url` - –¥–∂–µ—Ä–µ–ª–æ –¥–∞–Ω–∏—Ö

#### `users` - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –¥–ª—è push-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- `id` - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä
- `firebase_token` - FCM —Ç–æ–∫–µ–Ω
- `city` - –º—ñ—Å—Ç–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `street` - –≤—É–ª–∏—Ü—è
- `house_number` - –Ω–æ–º–µ—Ä –±—É–¥–∏–Ω–∫—É
- `created_at` - –¥–∞—Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
- `updated_at` - –¥–∞—Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

---

## üîî Push-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

–§–æ—Ä–º–∞—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:

```json
{
  "title": "‚ö° –í—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –µ–ª–µ–∫—Ç—Ä–æ–µ–Ω–µ—Ä–≥—ñ—ó",
  "body": "–ê–¥—Ä–µ—Å–∞: –≤—É–ª. –ì–µ—Ä–æ—ó–≤ –ú–∞–π–¥–∞–Ω—É, 10, –•–º–µ–ª—å–Ω–∏—Ü—å–∫–∏–π\n–ß–µ—Ä–≥–∞: 2\n–ß–∞—Å: 08:00 - 12:00",
  "data": {
    "type": "outage",
    "city": "–•–º–µ–ª—å–Ω–∏—Ü—å–∫–∏–π",
    "street": "–ì–µ—Ä–æ—ó–≤ –ú–∞–π–¥–∞–Ω—É",
    "house_number": "10",
    "queue": "2",
    "schedule_time": "08:00 - 12:00"
  }
}
```

---

## üõ†Ô∏è –†–æ–∑—Ä–æ–±–∫–∞

### –ó–∞–ø—É—Å–∫ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º:
```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É:
```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å black —Ç–∞ flake8
pip install black flake8

# –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
black app/

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∏–ª—é
flake8 app/
```

---

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç —î –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–º —Ç–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏–º –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.

---

## ü§ù –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ —É –≤–∞—Å –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∏:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Firebase (—è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ push)

---

## üéØ Roadmap

- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —ñ–Ω—à–∏—Ö —Ä–µ–≥—ñ–æ–Ω—ñ–≤ –£–∫—Ä–∞—ó–Ω–∏
- [ ] Telegram –±–æ—Ç –¥–ª—è —Å–ø–æ–≤—ñ—â–µ–Ω—å
- [ ] –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –¥–∞–Ω–∏—Ö
- [ ] –ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö (CSV, JSON)
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å

---

**–ó—Ä–æ–±–ª–µ–Ω–æ –∑ ‚ù§Ô∏è –¥–ª—è –£–∫—Ä–∞—ó–Ω–∏ üá∫üá¶**
